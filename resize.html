<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Edge Resize Timeline Clip</title>

<style>
  body {
    background:#020617;
    font-family: system-ui;
    padding:40px;
  }

  .timeline {
    width: 900px;
    height: 90px;
    background:#0f172a;
    border-radius:8px;
    position: relative;
    padding:20px;
  }

  .clip {
    position: absolute;
    height: 40px;
    width: 260px;
    left: 140px;
    top: 25px;
    background:#22c55e;
    border-radius:6px;
    user-select: none;
  }
</style>
</head>

<body>

<div class="timeline">
  <div class="clip" id="clip"></div>
</div>

<script>
  const clip = document.getElementById("clip");

  const EDGE_SIZE = 8;     // px from left/right edge
  const MIN_WIDTH = 40;

  let mode = null;
  let startX = 0;
  let startWidth = 0;
  let startLeft = 0;

  // Cursor detection
  clip.addEventListener("mousemove", (e) => {
    const rect = clip.getBoundingClientRect();
    const x = e.clientX - rect.left;

    if (x < EDGE_SIZE || x > rect.width - EDGE_SIZE) {
      clip.style.cursor = "ew-resize";
    } else {
      clip.style.cursor = "default";
    }
  });

  clip.addEventListener("mousedown", (e) => {
    const rect = clip.getBoundingClientRect();
    const x = e.clientX - rect.left;

    if (x < EDGE_SIZE) mode = "left";
    else if (x > rect.width - EDGE_SIZE) mode = "right";
    else return;

    startX = e.clientX;
    startWidth = clip.offsetWidth;
    startLeft = clip.offsetLeft;

    document.addEventListener("mousemove", resize);
    document.addEventListener("mouseup", stopResize);
  });

  function resize(e) {
    const dx = e.clientX - startX;

    if (mode === "right") {
      clip.style.width =
        Math.max(MIN_WIDTH, startWidth + dx) + "px";
    }

    if (mode === "left") {
      const newWidth = Math.max(MIN_WIDTH, startWidth - dx);
      clip.style.width = newWidth + "px";
      clip.style.left = startLeft + (startWidth - newWidth) + "px";
    }
  }

  function stopResize() {
    mode = null;
    document.removeEventListener("mousemove", resize);
    document.removeEventListener("mouseup", stopResize);
  }
</script>

</body>
</html>
